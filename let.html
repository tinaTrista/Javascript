<html>
<body>
</body>
</html>
<script type="text/javascript">
    // for(var i =0; i< 5; i++) {
    //   var btn = document.createElement('button');
    //   btn.appendChild(document.createTextNode('button'+i));
    //   // 匿名立即执行函数，来捕获每次通过for循环的i的值
    //   // btn.addEventListener('click', (function(i){
    //   //   return function() {
    //   //     console.log(i);
    //   //   }
    //   // })(i));
    //   (function(i){
    //     btn.addEventListener('click', function(){console.log(i);})
    //   })(i);
    //   document.body.appendChild(btn);
    // }

    //es6 使用let 代替var， i是局部变量
    var test = {'a':'b'}
    for(let i =0; i< 5; i++) {
      let btn = document.createElement('button');
      btn.appendChild(document.createTextNode('button'+i));
      btn.addEventListener('click', function(){
        test.a = i;
        console.log(i, test); // 0, {'a': 0}
      });
      document.body.appendChild(btn);
    }
    // 最后对象test {'a';4}

</script>
